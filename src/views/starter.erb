<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
  <meta name="description" content="">
  <meta name="author" content="">
  <link rel="icon" href="../../favicon.ico">

  <title>Hadjian eDiscovery</title>


  <!-- Bootstrap -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">

  <!-- Optional theme -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap-theme.min.css" integrity="sha384-fLW2N01lMqjakBkx3l/M9EahuwpSfeNvV63J5ezn3uZzapT0u7EYsXMjQV+0En5r" crossorigin="anonymous">

  <!-- Custom styles for this template -->
  <link href="css/starter-template.css" rel="stylesheet">

  <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
  <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
  <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
  <![endif]-->
</head>

<body>

<nav class="navbar navbar-inverse navbar-fixed-top">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="#">Hadjian eDiscovery&nbsp;<span id="version">v0.1</span></a>
    </div>
    <div id="navbar" class="collapse navbar-collapse">
      <ul class="nav navbar-nav">
        <li class="active"><a id="doc" href="#"><% if @documentLoaded %>
              <%= @documentName %>
          <% else %>
              <input class="btn btn-sm btn-default" type="button" id="load" value="load pdf">
          <% end %></a><span id="numberWords"></span></li>
        <li><a href="#about">About</a></li>
        <li><a href="#contact">Contact</a></li>
      </ul>
    </div><!--/.nav-collapse -->
  </div>
</nav>

<div class="container">
  <form id="searchForm" role="form" method="post" action="/searcher">
    <div class="row form-space">
      <div class="col-md-2">
          <div class="form-group">
            <input type="text" class="form-control" name="w0">
            <input type="text" class="form-control" name="w1">
            <input type="text" class="form-control" name="w2">
          </div>
          <button id="search" type="submit" class="btn btn-default">Search</button>
      </div>
      <div class="col-md-10">
        <h2 id="placeholder">This should get replaced when "REST TEST" button is clicked</h2>
        <div id="chart" style="width:500px;height:250px">
          <svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="500" height="500">
            <line x1="0" x2="0" y1="40" y2="250" style="stroke: rgb(238, 238, 238);"></line><line x1="20" x2="20" y1="40" y2="250" style="stroke: rgb(238, 238, 238);"></line><line x1="40" x2="40" y1="40" y2="250" style="stroke: rgb(238, 238, 238);"></line><line x1="60" x2="60" y1="40" y2="250" style="stroke: rgb(238, 238, 238);"></line><line x1="80" x2="80" y1="40" y2="250" style="stroke: rgb(238, 238, 238);"></line><line x1="100" x2="100" y1="40" y2="250" style="stroke: rgb(238, 238, 238);"></line><line x1="120" x2="120" y1="40" y2="250" style="stroke: rgb(238, 238, 238);"></line><line x1="140" x2="140" y1="40" y2="250" style="stroke: rgb(238, 238, 238);"></line><line x1="160" x2="160" y1="40" y2="250" style="stroke: rgb(238, 238, 238);"></line><line x1="180" x2="180" y1="40" y2="250" style="stroke: rgb(238, 238, 238);"></line><line x1="200" x2="200" y1="40" y2="250" style="stroke: rgb(238, 238, 238);"></line><line x1="220" x2="220" y1="40" y2="250" style="stroke: rgb(238, 238, 238);"></line><line x1="240" x2="240" y1="40" y2="250" style="stroke: rgb(238, 238, 238);"></line><line x1="260" x2="260" y1="40" y2="250" style="stroke: rgb(238, 238, 238);"></line><line x1="280" x2="280" y1="40" y2="250" style="stroke: rgb(238, 238, 238);"></line><line x1="300" x2="300" y1="40" y2="250" style="stroke: rgb(238, 238, 238);"></line><line x1="320" x2="320" y1="40" y2="250" style="stroke: rgb(238, 238, 238);"></line><line x1="340" x2="340" y1="40" y2="250" style="stroke: rgb(238, 238, 238);"></line><line x1="360" x2="360" y1="40" y2="250" style="stroke: rgb(238, 238, 238);"></line><line x1="380" x2="380" y1="40" y2="250" style="stroke: rgb(238, 238, 238);"></line><line x1="400" x2="400" y1="40" y2="250" style="stroke: rgb(238, 238, 238);"></line><line x1="420" x2="420" y1="40" y2="250" style="stroke: rgb(238, 238, 238);"></line><line x1="440" x2="440" y1="40" y2="250" style="stroke: rgb(238, 238, 238);"></line><line x1="460" x2="460" y1="40" y2="250" style="stroke: rgb(238, 238, 238);"></line><line x1="480" x2="480" y1="40" y2="250" style="stroke: rgb(238, 238, 238);"></line><line x1="500" x2="500" y1="40" y2="250" style="stroke: rgb(238, 238, 238);"></line><line y1="40" y2="40" x1="0" x2="500" style="stroke: rgb(238, 238, 238);"></line><line y1="60" y2="60" x1="0" x2="500" style="stroke: rgb(238, 238, 238);"></line><line y1="80" y2="80" x1="0" x2="500" style="stroke: rgb(238, 238, 238);"></line><line y1="100" y2="100" x1="0" x2="500" style="stroke: rgb(238, 238, 238);"></line><line y1="120" y2="120" x1="0" x2="500" style="stroke: rgb(238, 238, 238);"></line><line y1="140" y2="140" x1="0" x2="500" style="stroke: rgb(238, 238, 238);"></line><line y1="160" y2="160" x1="0" x2="500" style="stroke: rgb(238, 238, 238);"></line><line y1="180" y2="180" x1="0" x2="500" style="stroke: rgb(238, 238, 238);"></line><line y1="200" y2="200" x1="0" x2="500" style="stroke: rgb(238, 238, 238);"></line><line y1="220" y2="220" x1="0" x2="500" style="stroke: rgb(238, 238, 238);"></line><line y1="240" y2="240" x1="0" x2="500" style="stroke: rgb(238, 238, 238);"></line><rect id="s0" x="50" y="150" width="80" height="100" style="stroke: none; fill: steelblue;"></rect><rect id="s1" x="150" y="100" width="80" height="150" style="stroke: none; fill: steelblue;"></rect><rect id="s2" x="250" y="120" width="80" height="130" style="stroke: none; fill: steelblue;"></rect><rect id="s3" x="350" y="80" width="80" height="170" style="stroke: none; fill: rgb(139, 0, 0);"></rect></svg>


        </div>
      </div>
    </div><!-- end of row -->
  </form>
</div><!-- end of container -->


<!-- Bootstrap core JavaScript
================================================== -->
<!-- Placed at the end of the document so the pages load faster -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS" crossorigin="anonymous"></script>
<script type="application/javascript">
  $( "#load" ).click(function() {
    $.getJSON("/load", function(result){
      document.getElementById("doc").innerHTML=result.file + " <span id='numberWords'>" + result.numberWords + "</span>";
    });
  });
  // Attach a submit handler to the form
  $( "#searchForm" ).submit(function( event ) {

    // Stop form from submitting normally
    event.preventDefault();

    // Get some values from elements on the page:
    var $form = $( this );
    var url = $form.attr( "action" );
    var words = [];
    var term = $form.find( "input[name='w0']" ).val();
    if (term.length > 0) { words[words.length] = term; }
    term = $form.find( "input[name='w1']" ).val();
    if (term.length > 0) { words[words.length] = term; }
    term = $form.find( "input[name='w2']" ).val();
    if (term.length > 0) { words[words.length] = term; }
    // Send the data using post
    var posting = $.post( url, { "words": words } );

    // Put the results in a div
    posting.done(function( data ) {
      document.getElementById("placeholder").innerHTML=data;
    });
  });
</script>
</body>
</html>
